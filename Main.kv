#:kivy 1.0


ScreenManager:
    FrontPage:
    SettingsPage:
    CameraPage:
    ManualPage:

<FrontPage>:
    name: 'front_page'
    FloatLayout:
        #size: root.width - 200, root.height - 200
        #pos: 100, 100 
        orientation: 'vertical'

        Label:
            text: 'Welcome to Block Lens'
            font_size: 50
            pos_hint: {'center_y': 0.7}
            # Will add font style to the title
        RoundedButton:
            text: 'Go to settings page'
            on_press: app.root.current = 'settings_page'
            #shrinks the button and adjust the button based on x axis and y axis
            pos_hint: {'center_x': 0.2, 'center_y': 0.5}
            # Adjust the sizes of the circle
            size_hint: (.3, .2)
            
        RoundedButton:
            text: 'Go to camera page'
            on_press: app.root.current = 'camera_page'
            #shrinks the button
            pos_hint: {'center_x': 0.8, 'center_y': 0.5}
            size_hint: (.3, .2)
        RoundedButton:
            text: 'Go to manual page'
            on_press: app.root.current = 'manual_page'
            #shrinks the button
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            size_hint: (.3, .2)

<SettingsPage>:
    name: 'settings_page'


    # TOP LAYOUT SET UP - BACK BUTTON AND SETTINGS BANNER
    BoxLayout:
        orientation: 'vertical'
        
        # SETTING LAYOUT
        FloatLayout:
            size_hint_y: None
            height: '50dp'
        
            # BACK BUTTON LAYOUT
            Button:
                text: 'Back'
                size_hint: None, None
                size: '50dp', '30dp' 
                pos_hint: {"x": 0, "top": 1}
                on_release: app.root.current = 'front_page'

            # LABEL
            Label:
                text: 'Settings'
                font_size: app.text_size_labels
                size_hint_y: None
                height: '25dp' 
                pos_hint: {"center_x": 0.5, "top": 1}


        # SCROLL SETTINGS SETUP
        ScrollView:
            do_scroll_x: False
            canvas.before:
                Color:
                    rgba: 0, 0.25, 0.49, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

            # SETTING UP SCROLLABLE AREA
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                
                # SETTINGS WIDGETS HERE
                # Text Settings
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: '40dp'

                    Label:
                        text: "Text Size"
                        font_size: app.text_size_default_font
                        size_hint_y: None
                        size_hint_x: 0.4
                        height: '40dp'
                    
                    Button:
                        text: "Small"
                        font_size: app.text_size_default_font
                        size_hint_x: 0.2
                        on_release: app.set_font_size('Small')
                    
                    Button:
                        text: "Default"
                        font_size: app.text_size_default_font
                        size_hint_x: 0.2
                        on_release: app.set_font_size('Default')

                    Button:
                        text: "Large"
                        font_size: app.text_size_default_font
                        size_hint_x: 0.2
                        on_release: app.set_font_size('Large')
                
                #COLORBLIND WIDGET HERE
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: '40dp'

                    Label:
                        text: "Color Blind Mode"
                        font_size: app.text_size_default_font
                        size_hint_y: None
                        height: '40dp'

                    Button:
                        id: color_blind_button
                        text: 'Default'
                        font_size: app.text_size_default_font
                        size_hint_y: None
                        height: '40dp'



                Label:
                    text: "Summary Text-To-Speech"
                    font_size: app.text_size_default_font
                    size_hint_y: None
                    height: '40dp'
                Label:
                    text: 'About Us'
                    font_size: app.text_size_labels
                    size_hint_y: None
                    height: '25dp' 
                    pos_hint: {"center_x": 0.5, "top": 1}

<CameraPage>:
    name: 'camera_page'
    FloatLayout:
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: '50dp'
            pos_hint: {'bottom': 1}
            #Home button
            Button:
                text: 'Go to front page'
                on_press: app.root.current = 'front_page'
            #gallery button
            Button:
                text: 'Gallery button'
                on_press: root.open_gallery()

<ManualPage>:
    name: 'manual_page'
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Welcome to the manual page'
            font_size: 20
        Button:
            text: 'Go to front page'
            on_press: app.root.current = 'front_page'

<RoundedButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
        #create the black color
            rgba: (0, 0, 0, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [500]

#Replaces the regular button with a circular button
#<CircularButton@Button>:
    #size_hint: None, None  # Remove size constraints from layout
 #   size: 100, 100  # Set size (width = height for a perfect circle)
  #  background_normal: ''  # Remove default background image
   # background_color: 0.0, 0.32, 0.64, 1  # Color for 0052A3(blue)
    #canvas.before:
     #   Color:
      #      rgba: 0.2, 0.6, 0.86, 1  # Same color as background_color
       # Ellipse:
        #    pos: self.pos  # Draw at the position of the button
         #   size: self.size  # Match the size of the button